<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title> Урок 3 </title>
  <style>
    .green {
      border: 2px solid green;
    }
    .red {
      border: 2px solid red;
    }
  </style>
</head>
<body>
  <h3> Форма Регистрации </h3>    
  <div class="form">   
    <form id="forma">
      <label for="passport"> Паспорт </label> <br>
      <input id="passport" type="text" name="passport" autofocus="autofocus" placeholder="77 77 777777"> <br>
      <label for="email"> E-mail </label> <br>
      <input id="email" type="email" name="email" placeholder="example@axample.com"> <br>
      <label for="phone"> Телефон </label> <br>
      <input id="phone" type="tel" name="phone" placeholder="+7(999)-123-45-67"> <br>
      <input type="reset" name="reset" value="Очистить">
      <button id="btn">Отправить</button>
    </form>
  </div>    
  <script>
    /**
     * Задание 1
     */
    var regexp1 = /#[0-9A-F]{6}|#[0-9A-F]{3}/ig;
    var str = "Цвет #00FF00 - зеленый, а цвет #f00 - красный";
    var mas = str.match(regexp1);
    console.log(str);
    console.log(mas);
    /**
     * Задание 2
     */
    var str1 = '1.5 0 12. 123.4.';
    var regexp2 = /\d+(\.\d+)?/g;
    var mas1 = (str1).match(regexp2);
    console.log(str1);
    console.log(mas1);
    /**
     * Задание 3
     */
    var str2 = 'Время сейчас 21-30, а тебе завтра вставать в 09:00. Ложись спать!';
    var regexp3 = /([0-1][0-9]|[2][0-4])[-:]([0-5][0-9])/g;
    var mas2 = str2.match(regexp3);
    console.log(str2);
    console.log(mas2);
    /**
     * Задание 5
     */
    function changeClass(element, regexp) {
      var elem = document.forms['forma'].elements[element];
      elem.classList.remove('green');
      elem.classList.remove('red');
      elem.classList.add(regexp.test(elem.value) ? 'green' : 'red');
    }
    function test(event) {
      event.preventDefault();
      var regexpPhone = /^\+\d{1,3}\(\d{3}\)\-\d{3}\-\d{2}\-\d{2}$/g;
      var regexpPassport = /^\d{2} \d{2} \d{6}$/g;
      var regexpEmail = /^.+@.+\.[a-z]{2,3}$/g;
      changeClass('phone', regexpPhone);
      changeClass('email', regexpEmail);
      changeClass('passport', regexpPassport);
    }
    var button = document.getElementById('btn');
    button.addEventListener('click', test);
  </script>
</body>
</html>
